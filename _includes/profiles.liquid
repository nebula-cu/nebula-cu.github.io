<div class="profiles">
  {% if site.members != blank %}
    <div class="table-responsive">
      <table class="table table-sm table-borderless" style="margin-bottom: 0;">
        {% assign sorted_profiles = site.members | sort: 'member_category' %}
        
        {% for profile in sorted_profiles %}
          <tr style="vertical-align: top; padding-bottom: 2px;">
            <!-- Joined Date Badge -->
            <th scope="row" style="width: 15%; padding: 2px 10px 2px 0;">
              <span class="badge bg-info">
                {{ profile.joined_date | date: '%b %d, %Y' }}
              </span>
            </th>

            <!-- Member Info -->
            <td style="padding: 2px 0;">
              <a href="{{ profile.web_site }}" target="_blank" class="profile-title">
                {{ profile.givenname }} {{ profile.surname }}
              </a>
              <br />
              <small><strong>Category:</strong> {{ profile.member_category }}</small>
              <br />
              {% if profile.email %}
                <small>Email: <a href="mailto:{{ profile.email }}">{{ profile.email }}</a></small>
              {% endif %}
              <ul class="list-inline mt-2">
                {% if profile.github %}
                  <li class="list-inline-item">
                    <a href="https://github.com/{{ profile.github }}" target="_blank">GitHub</a>
                  </li>
                {% endif %}
                {% if profile.linkedin %}
                  <li class="list-inline-item">
                    <a href="https://linkedin.com/in/{{ profile.linkedin }}" target="_blank">LinkedIn</a>
                  </li>
                {% endif %}
                {% if profile.twitter %}
                  <li class="list-inline-item">
                    <a href="https://twitter.com/{{ profile.twitter }}" target="_blank">Twitter</a>
                  </li>
                {% endif %}
              </ul>
              <p><strong>Interests:</strong> {{ profile.interests }}</p>
              <p>{{ profile.summary }}</p>
            </td>

            <!-- Profile Image -->
            <td style="padding: 2px 0;">
              {% if profile.image %}
                <img 
                  src="/assets/img/{{ profile.image }}" 
                  alt="Photo of {{ profile.givenname }} {{ profile.surname }}" 
                  class="img-fluid rounded-circle" 
                  style="max-width: 100px;"
                />
              {% endif %}
            </td>
          </tr>
        {% endfor %}
      </table>
    </div>
  {% else %}
    <p>No profiles available...</p>
  {% endif %}
</div>